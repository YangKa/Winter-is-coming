##架构

好的架构不仅可以提高团队协作效率，还可以减少代码的耦合度和冗余度。

###简单理解：h
1.没有中间件解决不了的问题，有就再加一层。
2.架构就是各种拆和装，选择合适的粒度，让项目更方便维护
3.为了解决controller的臃肿问题

###MVX  （MVC、MVVM、MVP）

模型层和视图层是整个客户端不可分割的一部分，它们的职责非常清楚，一个用于本地数据的获取以及存储，另一个用于展示内容、接收用户的操作与事件；在这种情况下，整个应用中的其它功能和逻辑机会被自然而然的扔到X层中。

Controller 层要主要负责以下的问题（包括但不仅限于）：

- 管理根视图的生命周期和应用生命周期
- 负责将视图层的 UIView 对象添加到持有的根视图上；
- 负责处理用户行为，比如 UIButton 的点击以及手势的触发；
- 储存当前界面的状态；
- 处理界面之间的跳转；
- 作为 UITableView 以及其它容器视图的代理以及数据源；
- 负责 HTTP 请求的发起；
- 处理业务逻辑以及各种复杂的动画。


####MVC （胖controller）
最经典的架构，也是最简单的架构，最容易产生臃肿的架构。

结构： V - C - M （View - Controller - Model）

MVC里：
- V表示视图层，主要负责内容展示、操作时间接受。
- M表示模型层，用于数据的获取和存储。
- C层表示控制层，作为中枢负责Model层和View的交互。也就是说，其它所有逻辑都在controller中。

总结：这样就很容易形成臃肿的controller。


####MVVM
思想：
用一个ViewModel中间层使View层和Model层解耦。

结构： V - MV - M （View-ViewModel-Model）

优点：
- MVVM在使用过程中通常会使用双向绑定技术，这样Model值改变，ViewModel会自动更新，进而View也会自动变化。可以采用KVO和NSNotificaiton达到这种效果。
- 将Controller中一部分逻辑转移到ViewModel中，降低了Controller的重量级。

缺点：
1.为了实现双向绑定，需要引入更多复杂框架来实现
2.数据绑定使得Bug很难被调试，界面异常了，可能是Model层导致的，也可能是View层导致的。这种Bug的传递性，将是问题很难被定位。
3.对于大型项目，数据绑定将会增大内存使用。

####MVP
由MVC衍生而来

结构：V - Presenter - M

思想：在View层和Model层间增加一个Presenter层，将与视图相关的逻辑都转移到Presenter中，Model直接通过presenter和view层交互。

####VIPER
由来：粒度化比较细粒，分工比较明确，方便测试和给controller瘦身。

- View:视图层，主要是视图布局和显示
- Interactor:包含网络请求和数据逻辑
- Presenter：UI层面的业务逻辑和Interactor的方法用。
- Entity：供Interactor使用的数据对象
- Routing：包含导航逻辑，用于连接各个VIPER的模块


```
		  R
		  |
结构： V - P - I - E
```
优点：
1.通过路由实现导航，耦合度低
2.各职责分工明确，粒度化小，逻辑集中，耦合度低，方便测试
缺点：
1.粒度化太细，在增加了功能分配的难度
2.功能比较分散

####CDD
- context ： 作为中枢，把所有view都连接起来，不参与任何数据的传递，仅仅作为各个对象的持有者，只处理controller本身相关的业务，比如view的显示、消失、旋转等，controller也是context的持有者，可以在veiwWillAppear的时候把事件传递到BusinessObject进行处理。
- dataHandler: 数据逻辑
- businessObject： 业务逻辑

------------------------------------------------------------------------------------------

####ReactiveCocoa
由MVVM衍生而来。
采用函数式编程和响应式编程相结合，实现数据的绑定。

特点：
- 函数式编程，函数可以拥有和对象同样的功能，作为参数和返回值使用，成为一等公民。
- 响应式编程，由原来的事件响应方式改为输入式响应。输入还可以通过函数式编程进行各种combine或Filter，处理灵活。
- 无状态，方便函数更好测试。
- 不可修改，数据都是不可修改的，软件逻辑简单，方便测试。

------------------------------------------------------------------------------------------
####AOP
AOP可以对各个业务逻辑进行隔离，降低各部分的耦合度，提高程序的重用性，同时提高开发效率。

####面向组件
对整个APP进行组件分离，不同功能集成为一个个组件，组件之间通过协议或路由的形式进行访问调用。

####面向路由
各组件或模块之间通过路由的形式访问调用。

####面向协议POP
有一个中间层协议作为管理者，其他个组件或模块注册协议，提供外界调用访问的方式。

####响应式编程
由原来的事件响应方式改为输入式响应。输入还可以通过函数式编程进行各种combine或Filter，处理灵活。
- 无状态，方便函数更好测试。


####函数式编程
函数可以拥有和对象同样的功能，作为参数和返回值使用，成为一等公民。
