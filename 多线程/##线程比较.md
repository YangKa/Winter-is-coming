##线程比较

总所周知的线程有NSThread、NSOperation、GCD，抽象程度逐渐变高。我们主要使用的是NSOpeartion和GCD。

###NSThread
比较轻量级的对象。

优：
- 创建简单，使用方便。

缺：
- 需要手动管理线程的生命周期、线程同步、加锁、唤醒、睡眠等。线程同步会有一定的系统开销
- 创建线程时只接受一个参数，比较局限。

###NSOperation

优：
- 可以取消操作。调用NSOperation的cancel方法，会设置对象内的标志位，用以表示该任务不用执行。但是已启动的任务是无法取消的。GCD任务一但安排好之后就无法控制了。

- 指定操作间的依赖关系。GCD可以通过group组来进行依赖控制，但比较有限。

- 通过键值观测机制监控NSOperation对象的属性。

- 指定具体操作的优先级。GCD只能整个队列的优先级，不能具体到块。

- 可以重用NSoperation对象。


###GCD

优：
- 操作简单，不需要关心线程管理、数据同步的事情。
- 采用底层C的API，性能更好
- 与block配合，代码简洁高效。
缺：
- 不可以取消，一旦任务执行开始则无法改变。但可以在block中添加外界可以修改的条件进行控制。
- 无法建立任务之间的依赖


###总结：
1.性能方面： GCD是纯C的API，是轻量级数据结构,在追求性能方面效果更好。
2.依赖关系： 使用NSOperation更好，GCD实现相同效果需要自己实现更多的代码操作。
3.高并发：希望快速处理任务，在异步执行过程中与UI交互操作少的情况下建议使用GCD。

####看法：
当我们的功能可以用比较简单的代码来完成时，优先选择GCD，一是简洁，二是性能更高。如果需要更多的功能控制，如线程依赖、优先层级方面的控制时，选择NSOperation。对于NSThread，一般只用到[NSThread currentThread]来定位当前线程。

#####note：在AFNetworking和SDWebimage中都同时使用了NSOperation和GCD。
