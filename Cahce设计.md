Cahce设计

缓存的设计就是通过提供一个历史数据临时区提供更快、体验更好的数据访问。
这些数据具有时效性，获取成本高，在某段时间内不会改动的特点。
Cache设计需要保证数据的正确性、不可变、安全。
缓存的数据源有资源图片、资源文件、网络数据、设置等。

主流的cache主要在网络库的的网络数据缓存、图片的数据缓存两大块。其中网络缓存库以AFNetworking、Alamofile为主，图片缓存库以YYWebImage、SDWebImage为主。

options：
1.为哪几个环节提供cache功能，不同的环境会有不同的cache特性和优化技术
2.离散cache的集中管理，优雅可控。可以选择工厂类来生成和持有各式各样的cache，通过protocol去类型化将cache的声明和实现分离。
3.选择淘汰策略。要根据具体的业务情况使用LRU、LFU、FIFO、2Queue等算法。
4.immutable。因为缓存对象有值类型和引用类型，引用类型的使用容易被修改。所有为了保证数据的稳定性采用深copy的方式保证数据的不可修改。
5.多线程安全。保证数据读取的原子性操作，采用加锁（同步锁、NSLock、信号量等措施）。
6.key的选择


采用key-value的映射方式进行存储。
声明周期短数据量少的可以采用dictionary。一般会选择更好的NSCache。
比较：
	1.NSCache不会拷贝键，只会保留。很多时候键都是不支持拷贝的。
	2.NSCache会在系统资源紧张时，自动删减缓存。此外，NSCache会先行删除"最久未使用的"对象。
	3.NSCache是线程安全的，支持多线程进行访问。





